ROT_TABLE =     [[0,36,3,41,18],
                [1,44,10,45,2],
                [62,6,43,15,61],
                [28,55,25,21,56],
                [27,20,39,8,14]];

WORD_LENGTH = 64
WORD_MASK = 0b1111111111111111111111111111111111111111111111111111111111111111

xLen = 5
yLen = 5

def bit_rotation(word, offset):
    curMask = WORD_MASK << (WORD_LENGTH - offset)
    rotBits = (word & curMask) >> (WORD_LENGTH - offset)
    newWord = ((word << offset) | rotBits) & WORD_MASK
    return newWord
    

def rho_step(state):
    for x in range(xLen): 
        for y in range(yLen):
            newWord = bit_rotation(state[x][y], ROT_TABLE[x][y])
            state[x][y] = newWord
    return state


def print_state(state):
    for x in range(xLen): 
        print("Sheet x = {}".format(x))
        for y in range(yLen):
            print("{:0>64s}".format(bin(state[x][y])[2:]))
        print("")

state = [[0b1111110000000000000000000000000000000000000000000000000000000000,
          0b1111110000000000000000000000000000000000000000000000000000000000,
          0b1111110000000000000000000000000000000000000000000000000000000000,
          0b1111110000000000000000000000000000000000000000000000000000000000,
          0b1111110000000000000000000000000000000000000000000000000000000000],
         [0b0000001111110000000000000000000000000000000000000000000000000000,
          0b0000001111110000000000000000000000000000000000000000000000000000,
          0b0000001111110000000000000000000000000000000000000000000000000000,
          0b0000001111110000000000000000000000000000000000000000000000000000,
          0b0000001111110000000000000000000000000000000000000000000000000000],
         [0b0000000000001111110000000000000000000000000000000000000000000000,
          0b0000000000001111110000000000000000000000000000000000000000000000,
          0b0000000000001111110000000000000000000000000000000000000000000000,
          0b0000000000001111110000000000000000000000000000000000000000000000,
          0b0000000000001111110000000000000000000000000000000000000000000000],
         [0b0000000000000000000000000000000000000000000000000000000000000000,
          0b0000000000000000000000000000000000000000000000000000000000000000,
          0b0000000000000000000000000000000000000000000000000000000000000000,
          0b0000000000000000000000000000000000000000000000000000000000000000,
          0b0000000000000000000000000000000000000000000000000000000000000000],
         [0b0000000000000000000000000000000000000000000000000000000000000000,
          0b0000000000000000000000000000000000000000000000000000000000000000,
          0b0000000000000000000000000000000000000000000000000000000000000000,
          0b0000000000000000000000000000000000000000000000000000000000000000,
          0b0000000000000000000000000000000000000000000000000000000000000000],]
    

print_state(rho_step(state))